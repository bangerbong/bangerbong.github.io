/* style.css */
body {
  margin: 0;
  font-family: 'Tahoma', 'Lucida Grande', 'Segoe UI', sans-serif;
  color: black;
  overflow: hidden; /* Still hide body scrollbars */
  user-select: none;
  background-color: #008080; /* Fallback color if wallpaper fails */
}

#wallpaper { /* ... same as before ... */ }

#desktop-title-container { /* ... same as before, font sizes updated previously ... */ }
.desktop-title-line1 { /* ... same as before ... */ }
.desktop-title-line2 { /* ... same-as-before ... */ }

/* --- Desktop Icons --- */
#desktop-icons-container {
  position: absolute;
  top: 0; /* Take full space, minus taskbar potentially */
  left: 0;
  width: calc(100% - 20px); /* Give some padding */
  height: calc(100% - 30px - 20px); /* Minus taskbar and some padding */
  padding: 10px;
  overflow-y: auto; /* Allow vertical scroll if many icons on small screens */
  overflow-x: hidden;
  z-index: 8; /* Below sticky note and windows, above wallpaper title */
}

.icon {
  /* position: absolute; NO LONGER HERE BY DEFAULT - JS adds it on drag, CSS adds for desktop view */
  text-align: center;
  width: 90px;
  color: white;
  text-shadow: 1px 1px 1px black;
  padding: 5px;
  border-radius: 3px;
  z-index: 10; /* Base z-index for icons, draggable ones go higher */
  margin: 10px; /* For flow layout on mobile */
  cursor: default;
  float: left; /* Default desktop layout - traditional grid-like */
  /* The JS for dragging will switch this to position:absolute and set top/left */
}
.icon:hover { /* ... same ... */ }
.icon:active { /* ... same ... */ }
.icon img { /* ... same ... */ }
.icon p { /* ... same ... */ }

.is-dragging { /* ... same ... */ }

#sticky-note { /* ... same (top/left might need CSS for initial desktop position) ... */
  position: absolute; /* Ensure sticky note is absolutely positioned */
  top: 15%;
  left: 70%;
  /* ... rest of sticky note styles same ... */
}


/* --- Windows --- (mostly same) */
.window {
  /* ... same ... */
  max-width: 100vw; /* Ensure windows dont go wider than viewport */
  box-sizing: border-box; /* Important for max-width */
}
/* ... rest of window styles are the same ... */

/* --- Taskbar --- (mostly same) */
/* ... taskbar styles are the same ... */

/* --- Minesweeper, My Computer Drives, PaintCanvas (same) --- */
/* ... these styles are the same ... */


/* --- MORE AGGRESSIVE RESPONSIVE ADJUSTMENTS --- */
@media (min-width: 769px) { /* DESKTOP - apply absolute positioning for icons */
  #desktop-icons-container {
    overflow: hidden; /* No scroll needed for desktop fixed layout */
  }
  .icon {
    position: absolute; /* Only absolute on desktop for initial placement */
    float: none; /* Disable float for absolute positioning */
    margin: 0; /* No margin needed for absolute */
  }
  /* Re-apply specific desktop icon positions if needed - best done by JS for consistency after drag */
  /* Or manually re-add inline styles in HTML for their initial desktop state,
     but then the JS dragging must be careful not to overwrite initial relative units
     if you want them to "snap back" to relative positions on resize before dragging.
     For simplicity with current drag logic, let them flow or set initial pixel values.
     The HTML has removed inline styles, so they'll flow by default even on desktop
     unless we explicitly position them here OR the JS sets initial positions.
     Let's give them some default absolute positions for desktop view if JS doesn't:
  */
  .icon[data-window="aboutWindow"] { top: 80px; left: 50px; }
  .icon[data-window="resumeWindow"] { top: 80px; left: 150px; }
  .icon[data-window="computerWindow"] { top: 80px; left: 250px; }
  .icon[data-window="contactWindow"] { top: 80px; left: 350px; }
  .icon[data-window="posterWindow"] { top: 180px; left: 50px; }
  .icon[data-window="photoWindow"] { top: 180px; left: 150px; }
  .icon[data-window="paintWindow"] { top: 180px; left: 250px; }
  .icon[data-window="minesweeperWindow"] { top: 180px; left: 350px; }
  .icon[data-window="brandingWindow"] { top: 280px; left: 50px; }
  .icon[data-window="videoWindow"] { top: 280px; left: 150px; }
  .icon[data-window="wmpWindow"] { top: 280px; left: 250px; }
}


@media (max-width: 768px) { /* Tablets and large phones */
  #desktop-icons-container {
    display: flex; /* Use flexbox for icon layout */
    flex-wrap: wrap; /* Allow icons to wrap to the next line */
    justify-content: flex-start; /* Align icons to the start */
    align-content: flex-start; /* Align lines to the start */
    padding: 10px;
    /* position: static; remove absolute if icons should scroll with page */
    /* height: auto; if scrolling with page */
  }
  .icon {
    position: relative !important; /* Override JS absolute for flow */
    top: auto !important; left: auto !important; /* Override JS for flow */
    float: none; /* Ensure no float */
    width: 75px;
    margin: 8px; /* Spacing for flex items */
  }
  .icon img { width: 40px; height: 40px; }
  .icon p { font-size: 11px; }

  #desktop-title-container { top: 5vh; /* Higher up on smaller screens */ }
  .desktop-title-line1 { font-size: 20px; margin-bottom: 10px; }
  .desktop-title-line2 { font-size: 44px; }

  .window {
    /* Make windows open smaller or more centered by default on tablet */
    /* This needs JS to adjust initial open position/size or CSS if they don't have inline styles */
    /* For now, rely on user to move/resize. max-width/height already helps. */
  }
  .title-bar { font-size: 12px; height: 22px; }
  .title-bar-button { width: 17px; height: 15px; font-size: 9px; }
  .window-content { padding: 8px; height: calc(100% - 26px); }
  #taskbar-items { overflow-x: auto; }
  .taskbar-item { max-width: 100px; flex-shrink: 0; font-size: 10px; padding: 0 8px; }
  #sticky-note { width: 180px; font-size: 13px; left: auto; right: 10px; top: 10%; transform: rotate(1deg);}
  .sticky-note-header { font-size: 14px; }
  #sticky-note li { font-size: 12px; }
}

@media (max-width: 480px) { /* Mobile phones */
  body {
    overflow-y: auto; /* Allow body to scroll if content exceeds viewport */
  }
  #desktop-icons-container {
    padding: 5px;
    justify-content: space-around; /* Spread icons a bit */
    height: auto; /* Let content determine height */
    position: relative; /* Not fixed, scrolls with page content */
    margin-top: 10vh; /* Space below title */
    margin-bottom: 40px; /* Space above taskbar */
  }
  .icon {
    width: 70px; /* Slightly larger tap targets relative to screen */
    margin: 5px;
  }
  .icon img { width: 36px; height: 36px; }
  .icon p { font-size: 10px; margin-top: 2px; }

  #desktop-title-container { top: 2vh; width: 95%; }
  .desktop-title-line1 { font-size: 14px; margin-bottom: 8px; }
  .desktop-title-line2 { font-size: 28px; }

  /* On very small screens, consider making windows open almost fullscreen or one at a time */
  .window {
    min-width: 90vw; /* Default to wider on mobile */
    left: 5vw !important; /* Center it roughly, important to override JS if it sets left */
    top: 5vh !important; /* Position from top, important to override JS */
    /* display: none; /* Initially hide and only show one "active" window via JS for true mobile feel */
  }
  .title-bar { font-size: 11px; height: 28px; padding: 2px 4px; } /* Taller for easier tap */
  .title-bar-button { width: 22px; height: 20px; font-size: 10px; margin-left: 2px;}
  .window-content { padding: 8px; height: calc(100% - 32px); }

  #start-button { font-size: 12px; padding: 0 8px 0 10px; }
  #start-button span { display: none; } /* Optionally hide "Start" text */
  .taskbar-item { font-size: 10px; padding: 0 5px; max-width: 70px;}
  #clock { font-size: 10px; }
  #clock-container { padding: 0 3px; }
  #sticky-note {
    width: 85vw; top: auto; bottom: 35px;
    left: 50%; transform: translateX(-50%) rotate(0deg);
    max-height: 120px; overflow-y: auto; font-size: 12px;
    padding: 8px;
  }
  .sticky-note-header { font-size: 13px; }
  #sticky-note li { font-size: 11px; margin-bottom: 4px;}
}
